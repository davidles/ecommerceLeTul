(this.webpackJsonpletul=this.webpackJsonpletul||[]).push([[0],{78:function(e,t,c){},79:function(e,t,c){},81:function(e,t,c){},82:function(e,t,c){},88:function(e,t,c){},93:function(e,t,c){},95:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),r=c(30),i=c.n(r),s=(c(78),c(79),c(67)),d=c(14),o=c(2),j=a.a.createContext({});function l(e){var t=e.children,c=[],a=Object(n.useState)(c),r=Object(d.a)(a,2),i=r[0],l=r[1],b=Object(n.useState)([]),h=Object(d.a)(b,2),O=h[0],x=h[1],u=Object(n.useState)(1),m=Object(d.a)(u,2),p=m[0],f=m[1],g=Object(n.useState)(),v=Object(d.a)(g,2),y=v[0],I=v[1],C=Object(n.useState)([]),k=Object(d.a)(C,2),N=k[0],S=k[1],T=Object(n.useState)([]),A=Object(d.a)(T,2),z=A[0],w=A[1],D=Object(n.useState)(""),L=Object(d.a)(D,2),B=L[0],P=L[1];return Object(o.jsx)(j.Provider,{value:{product:O,setProduct:x,cart:i,setCart:l,count:p,setCount:f,addItem:function(e,t){var c=i.find((function(t){return t.producto.id===e.id}));if(c){var n=c.cantidad+p,a=i.indexOf(c);i[a].cantidad=n,l(i)}else l([].concat(Object(s.a)(i),[{producto:e,cantidad:t}]))},removeItem:function(e){var t=i.find((function(t){return t.producto.id===e})),c=i.indexOf(t);i.splice(c,1),l(Object(s.a)(i))},clear:function(){l(c)},cartItems:y,setCartItems:I,items:N,setItems:S,categories:z,setCategories:w,itemId:B,setItemId:P},children:t})}var b=j,h=c(107),O=c(106),x=c(69),u=c(71),m=c(108),p=c(104);c(81),c(82);var f=function(){var e=Object(n.useContext)(b),t=e.cart,c=e.cartItems;return Object(o.jsx)("div",{children:Object(o.jsx)("i",{class:"fas fa-shopping-cart",children:c>=1&&t.length>=1?Object(o.jsx)("small",{className:"items",children:c}):Object(o.jsx)("small",{})})})};var g=function(){return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)(h.a,{bg:"light",className:"justify-content-around",children:[Object(o.jsx)(h.a.Brand,{href:"/",children:Object(o.jsx)("h1",{id:"Brand",children:"LeTul"})}),Object(o.jsxs)(O.a,{inline:!0,children:[Object(o.jsx)(x.a,{type:"text",placeholder:"Search...",className:"mr-sm-2"}),Object(o.jsx)(u.a,{className:"btn btn-info",children:"Search"})]}),Object(o.jsx)(h.a,{children:Object(o.jsxs)(m.a,{className:"md-lg",children:[Object(o.jsx)(m.a.Link,{href:"#",className:"ItemNav",children:"Login"}),Object(o.jsx)(m.a.Link,{href:"#",className:"ItemNav",children:Object(o.jsx)(f,{})})]})})]}),Object(o.jsx)(h.a,{bg:"dark",variant:"dark",expand:"lg",className:"justify-content-center NavBar",children:Object(o.jsxs)(m.a,{className:"md-lg",children:[Object(o.jsx)(m.a.Link,{href:"/",className:"ItemNav",children:"Home"}),Object(o.jsxs)(p.a,{title:"Categorias",id:"basic-nav-dropdown",className:"ItemNav",children:[Object(o.jsx)(p.a.Item,{href:"/categories/cuidados",children:Object(o.jsx)("p",{children:"Cuidados"})}),Object(o.jsx)(p.a.Item,{href:"/categories/relajacion",children:Object(o.jsx)("p",{children:"relajacion"})}),Object(o.jsx)(p.a.Item,{href:"/categories/dermo-cosmeticos",children:Object(o.jsx)("p",{children:"Dermo-Cosm\xe9ticos"})}),Object(o.jsx)(p.a.Divider,{}),Object(o.jsx)(p.a.Item,{href:"/",children:Object(o.jsx)("p",{children:"Todos"})})]})]})})]})},v=c(3),y=c(13),I=c(100),C=c(101),k=c(70),N=c(109),S=c(23),T=(c(88),function(e){var t=e.id,c=e.title,n=e.price,a=e.pictureURL,r=e.category;return Object(o.jsx)("div",{children:Object(o.jsx)(I.a,{children:Object(o.jsx)(C.a,{className:"justify-content-md-center Cards",children:Object(o.jsx)(k.a,{xs:!0,lg:"auto",children:Object(o.jsxs)(N.a,{style:{width:"18rem"},className:"cards",children:[Object(o.jsx)(N.a.Img,{variant:"top",src:a}),Object(o.jsxs)(N.a.Body,{children:[Object(o.jsx)(N.a.Title,{children:c}),Object(o.jsx)(N.a.Text,{children:Object(o.jsx)("p",{children:r})}),Object(o.jsx)(N.a.Text,{children:Object(o.jsxs)("strong",{children:["$",n]})}),Object(o.jsx)(S.b,{exact:!0,to:"/item/".concat(t),children:Object(o.jsx)(u.a,{variant:"primary",children:"Ver m\xe1s"})})]})]})})})})})}),A=function(){var e=Object(n.useContext)(b).categories;return Object(o.jsx)("div",{children:Object(o.jsx)(I.a,{children:Object(o.jsx)(C.a,{className:"justify-content-md-center Cards",children:e.map((function(e){return Object(o.jsx)(k.a,{xs:!0,lg:"auto",children:Object(o.jsx)(T,{id:e.id,title:e.title,category:e.category,price:e.price,pictureURL:e.pictureURL,stock:e.stock},e.id)})}))})})})},z=c(66),w=(c(91),z.a.initializeApp({apiKey:"AIzaSyDHm_EDRhsqQwpDdzh7lZV4GJtpjpRS26A",authDomain:"react-coder-dl.firebaseapp.com",projectId:"react-coder-dl",storageBucket:"react-coder-dl.appspot.com",messagingSenderId:"415394822933",appId:"1:415394822933:web:2ee1a1bcc6680f3c6b871c",measurementId:"G-CM5BR7173W"}));function D(){return z.a.firestore(w)}c(93);var L=function(){var e=Object(y.f)().category,t=Object(n.useContext)(b).setCategories;return Object(n.useEffect)((function(){e?D().collection("items").where("category","==",e).get().then((function(e){0!==e.size?t(e.docs.map((function(e){return Object(v.a)({id:e.id},e.data())}))):console.log("no results")})).catch((function(e){console.log(e)})):D().collection("items").get().then((function(e){0!==e.size?t(e.docs.map((function(e){return Object(v.a)({id:e.id},e.data())}))):console.log("no results")})).catch((function(e){console.log(e)}))}),[]),Object(o.jsxs)("div",{children:[Object(o.jsxs)("h2",{className:"title",children:["Cat\xe1logo de ",e||"Productos"]}),Object(o.jsx)(A,{})]})},B=c(102),P=function(e){var t=e.onAdd,c=Object(n.useContext)(b),a=c.count,r=c.setCount;return Object(o.jsxs)("div",{children:[Object(o.jsxs)(C.a,{children:[Object(o.jsx)(k.a,{md:5,children:Object(o.jsx)(u.a,{onClick:function(){r(a-1)},variant:"light",disabled:a<=1,children:"-"})}),Object(o.jsx)(k.a,{md:2,children:Object(o.jsx)("p",{children:a})}),Object(o.jsx)(k.a,{md:5,children:Object(o.jsx)(u.a,{onClick:function(){r(a+1)},variant:"light",children:"+"})})]}),Object(o.jsx)("hr",{}),Object(o.jsx)(u.a,{variant:"primary",onClick:function(){return t(a)},children:"Agregar al carrito"})]})},R=function(){var e=Object(n.useContext)(b),t=e.product,c=e.count,a=e.addItem,r=e.items,i=Object(n.useState)(!0),s=Object(d.a)(i,2),j=s[0],l=s[1],h=function(e){return l(!1),{itemSelected:{product:t,quantityToAdd:e}}};return Object(o.jsx)(I.a,{children:r.map((function(e){return Object(o.jsxs)(C.a,{children:[Object(o.jsx)(k.a,{xs:6,md:6,children:Object(o.jsx)(B.a,{src:e.pictureURL||"https://cdn.pixabay.com/photo/2015/12/22/04/00/photo-1103595_960_720.png",thumbnail:!0})}),Object(o.jsx)(k.a,{xs:6,md:6,children:Object(o.jsxs)(N.a.Body,{children:[Object(o.jsx)(N.a.Title,{children:e.title}),Object(o.jsx)(N.a.Subtitle,{className:"mb-2 text-muted",children:t.category}),Object(o.jsx)(N.a.Text,{children:e.description}),Object(o.jsxs)("p",{children:["Precio $",e.price]}),j?Object(o.jsx)(P,{onAdd:h}):Object(o.jsx)(S.b,{exact:!0,to:"/cart",children:Object(o.jsx)(u.a,{variant:"primary",onClick:function(t){return a(e,c)},children:"Terminar la compra"})})]})})]},e.id)}))})};var E=function(e){var t=e.onAdd,c=Object(n.useContext)(b).setItems,a=Object(y.f)().id;return Object(n.useEffect)((function(){var e=a;D().collection("items").doc(e).get().then((function(e){e.exists?(console.log("Item encontrado"),c([Object(v.a)({id:e.id},e.data())])):console.log("Item no encontrado")})).catch((function(e){console.log(e)}))}),[a]),Object(o.jsx)("div",{children:Object(o.jsx)("div",{className:"Cards-container",children:Object(o.jsx)(R,{onAdd:t})})})},$=c(103),H=c(105),U=function(){var e,t=Object(n.useState)(!1),c=Object(d.a)(t,2),a=c[0],r=c[1],i=function(){return r(!1)},s=function(){return r(!0)},j=Object(n.useState)(),l=Object(d.a)(j,2),h=l[0],O=l[1],x=Object(n.useContext)(b),m=x.setProduct,p=x.cart,f=x.removeItem,g=x.setCartItems,v=x.itemId,y=x.setItemId,I=0,C=0,k=function(e,t){return e*t},N={totalesPrecio:{background:"green",color:"white",fontSize:"20px",fontWidth:"bold"},totalesItems:{background:"white",color:"black",fontSize:"20px",fontWidth:"bold"},titleTable:{fontSize:"18px",fontWidth:"bold"}};return Object(o.jsxs)("div",{children:[Object(o.jsx)("h2",{children:"Cart"}),p.length<1?Object(o.jsx)(S.b,{to:"/",children:Object(o.jsx)(u.a,{variant:"info",children:"Agregar producto"})}):Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)($.a,{striped:!0,bordered:!0,hover:!0,children:[Object(o.jsx)("thead",{children:Object(o.jsxs)("tr",{children:[Object(o.jsx)("th",{style:N.titleTable,children:"Producto"}),Object(o.jsx)("th",{style:N.titleTable,children:"Precio"}),Object(o.jsx)("th",{style:N.titleTable,children:"Cantidad"}),Object(o.jsx)("th",{style:N.titleTable,children:"Total"}),Object(o.jsx)("th",{})]})}),p.map((function(e){var t=e.producto,c=e.cantidad;return I+=k(t.price,c),g(C+=c),m(t),Object(o.jsx)("tbody",{children:Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:t.title}),Object(o.jsxs)("td",{children:["$",t.price]}),Object(o.jsx)("td",{children:c}),Object(o.jsxs)("td",{children:["$",k(t.price,c)]}),Object(o.jsxs)("td",{children:[Object(o.jsx)(S.b,{exact:!0,to:"/item/".concat(t.id),children:Object(o.jsx)(u.a,{children:"Add"})}),Object(o.jsx)(u.a,{variant:"danger",onClick:function(){return f(t.id)},children:"Delete"})]})]})},t.id)})),Object(o.jsx)("tbody",{children:Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{style:{fontSize:"18px"},children:"Total de productos:"}),Object(o.jsxs)("td",{style:N.totalesItems,children:[" ",C]}),Object(o.jsx)("td",{style:{fontSize:"18px"},children:"Costo total:"}),Object(o.jsxs)("td",{style:N.totalesPrecio,children:[" $",I]}),Object(o.jsx)("td",{children:Object(o.jsx)(S.b,{to:"/",children:Object(o.jsx)(u.a,{variant:"info",children:"Agregar producto"})})})]})})]}),""!==v?Object(o.jsx)(u.a,{variant:"light",onClick:function(){!function(e){var t=D().collection("orders").doc(e);console.log("Actualizamos ".concat(e)),t.update({date:new Date,total:I,items:p.map((function(e){var t=e.producto,c=e.cantidad;return{id:t.id,price:t.price,title:t.title,cantidad:c}}))}).then((function(){console.log("guardado")})).catch((function(e){console.log(e)}))}(v),s(),O("actualizada")},children:" Actulizar orden "}):Object(o.jsx)(u.a,{onClick:function(){!function(){var e=D().collection("orders"),t={buyer:{email:"dl@gmail.com",name:"David Lescano",phone:"+56989786677"},date:new Date,total:I,items:p.map((function(e){var t=e.producto;return{id:t.id,price:t.price,title:t.title}}))};e.add(t).then((function(e){var t=e.id;console.log("Elemen to creado. ID: ".concat(t)),y(t)})).catch((function(e){console.log(e)}))}(),s(),O("guardada")},children:" Guardar orden "}),Object(o.jsxs)(H.a,{show:a,onHide:i,backdrop:"static",keyboard:!1,children:[Object(o.jsx)(H.a.Header,{children:Object(o.jsx)(H.a.Title,{variant:"info",children:"Operaci\xf3n Exitosa!"})}),Object(o.jsx)(H.a.Body,{children:(e=h,"Su operacion ha sido ".concat(e))}),Object(o.jsx)(H.a.Footer,{children:Object(o.jsx)(u.a,{variant:"secondary",onClick:i,children:"Ok"})})]})]})]})};var W=function(){return Object(o.jsx)("div",{className:"App",children:Object(o.jsx)(l,{children:Object(o.jsxs)(S.a,{children:[Object(o.jsx)(g,{}),Object(o.jsxs)(y.c,{children:[Object(o.jsx)(y.a,{activeClassName:"selected",exact:!0,path:"/",children:Object(o.jsx)(L,{})}),Object(o.jsx)(y.a,{exact:!0,path:"/categories/:category",children:Object(o.jsx)(L,{})}),Object(o.jsx)(y.a,{exact:!0,path:"/item/:id",children:Object(o.jsx)(E,{})}),Object(o.jsx)(y.a,{exact:!0,path:"/cart",children:Object(o.jsx)(U,{})}),Object(o.jsx)(y.a,{exact:!0,path:"/productos",children:Object(o.jsx)(E,{})})]})]})})})};c(94);i.a.render(Object(o.jsx)(a.a.StrictMode,{children:Object(o.jsx)(W,{})}),document.getElementById("root"))}},[[95,1,2]]]);
//# sourceMappingURL=main.dc36f704.chunk.js.map